<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Food App - Web Preview</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
            color: #2c2c2c;
            line-height: 1.6;
            transition: all 0.3s ease;
        }
        
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            color: #e8e8e8;
        }
        
        body.dark-mode .restaurant-card,
        body.dark-mode .menu-item,
        body.dark-mode .cart-summary,
        body.dark-mode .order-summary,
        body.dark-mode .delivery-info,
        body.dark-mode .payment-info {
            background: rgba(40, 40, 40, 0.92);
            color: #e0e0e0;
        }
        
        body.dark-mode .header {
            background: linear-gradient(135deg, #2a2a2a 0%, #1a4a3a 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 48px;
            padding: 60px 0 40px 0;
        }
        
        .header h1 {
            font-size: 42px;
            font-weight: 200;
            color: #1a1a1a;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
        }
        
        .header p {
            font-size: 16px;
            color: #666;
            font-weight: 300;
        }
        
        .search-bar {
            background: white;
            border-radius: 50px;
            padding: 18px 28px;
            margin-bottom: 48px;
            border: 1px solid #e8e8e8;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            transition: all 0.3s ease;
        }
        
        .search-bar:focus-within {
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.12);
            border-color: #ddd;
        }
        
        .search-bar input {
            width: 100%;
            border: none;
            outline: none;
            background: transparent;
            font-size: 16px;
            color: #2c2c2c;
            font-weight: 300;
        }
        
        .search-bar input::placeholder {
            color: #999;
        }
        
        .restaurants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .restaurant-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid #f5f5f5;
        }
        
        .restaurant-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.12);
            border-color: #e8e8e8;
        }
        
        .restaurant-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, #f8f8f8 0%, #e8e8e8 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: #666;
        }
        
        .restaurant-info {
            padding: 20px;
        }
        
        .restaurant-name {
            font-size: 20px;
            font-weight: 500;
            color: #1a1a1a;
            margin-bottom: 6px;
            letter-spacing: -0.2px;
        }
        
        .restaurant-cuisine {
            font-size: 14px;
            color: #888;
            margin-bottom: 16px;
            font-weight: 300;
        }
        
        .restaurant-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .rating {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #1a1a1a;
            font-weight: 500;
            font-size: 14px;
        }
        
        .delivery-time {
            color: #888;
            font-size: 13px;
            font-weight: 300;
        }
        
        .delivery-fee {
            color: #1a1a1a;
            font-weight: 500;
            font-size: 14px;
        }
        

        
        .map-view {
            background: linear-gradient(135deg, #F7F5F0 0%, #AFC8A6 100%);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-bottom: 32px;
        }
        
        .map-title {
            font-size: 24px;
            font-weight: 300;
            color: #4A4A4A;
            margin-bottom: 8px;
        }
        
        .map-subtitle {
            color: #6B6B6B;
            margin-bottom: 24px;
        }
        
        .restaurant-markers {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 16px;
        }
        
        .marker {
            background: rgba(255, 255, 255, 0.96);
            padding: 12px 16px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            cursor: pointer;
            transition: transform 0.2s ease-out;
        }
        
        .marker:hover {
            transform: scale(1.05);
        }
        
        .marker-name {
            font-weight: 600;
            color: #4A4A4A;
            font-size: 11px;
        }
        
        .marker-rating {
            font-size: 10px;
            color: #AFC8A6;
        }
        
        /* Menu View Styles */
        .menu-header {
            margin-bottom: 24px;
        }
        
        .back-button {
            background: rgba(255, 255, 255, 0.85);
            border: 1px solid #D9D9D9;
            padding: 12px 20px;
            border-radius: 16px;
            cursor: pointer;
            font-size: 16px;
            color: #4A4A4A;
            margin-bottom: 16px;
            transition: all 0.2s ease-out;
        }
        
        .back-button:hover {
            transform: scale(0.96);
            background: #AFC8A6;
            color: white;
        }
        
        .restaurant-header {
            background: linear-gradient(135deg, #F7F5F0 0%, #AFC8A6 100%);
            padding: 24px;
            border-radius: 20px;
            margin-bottom: 24px;
        }
        
        .menu-items {
            display: grid;
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .menu-item {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s ease-out;
        }
        
        .menu-item:hover {
            transform: translateY(-1px);
        }
        
        .menu-item-info h4 {
            font-size: 18px;
            font-weight: 600;
            color: #4A4A4A;
            margin-bottom: 4px;
        }
        
        .menu-item-info p {
            color: #6B6B6B;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .menu-item-price {
            font-size: 18px;
            font-weight: 600;
            color: #AFC8A6;
        }
        
        .add-button {
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease-out;
        }
        
        .add-button:hover {
            transform: scale(0.96);
            background: #9BB896;
        }
        
        /* Cart Styles */
        .cart-summary {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            bottom: 20px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #F0F0F0;
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .checkout-button {
            width: 100%;
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 16px;
            transition: all 0.2s ease-out;
        }
        
        .checkout-button:hover {
            transform: scale(0.98);
            background: #9BB896;
        }
        
        /* Checkout Styles */
        .checkout-header h2 {
            font-size: 28px;
            color: #4A4A4A;
            margin-bottom: 24px;
        }
        
        .checkout-content {
            display: grid;
            gap: 24px;
        }
        
        .order-summary {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 16px;
            padding: 20px;
        }
        
        .delivery-info, .payment-info {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 16px;
            padding: 20px;
        }
        
        .delivery-info h3, .payment-info h3 {
            color: #4A4A4A;
            margin-bottom: 16px;
        }
        
        .address-input, .payment-select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #D9D9D9;
            border-radius: 12px;
            font-size: 16px;
            margin-bottom: 12px;
            outline: none;
        }
        
        .address-input:focus, .payment-select:focus {
            border-color: #AFC8A6;
        }
        
        .place-order-button {
            width: 100%;
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 20px;
            border-radius: 16px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-out;
        }
        
        .place-order-button:hover {
            transform: scale(0.98);
            background: #9BB896;
        }
        
        /* Confirmation Styles */
        .confirmation-content {
            text-align: center;
            padding: 40px 20px;
        }
        
        .success-icon {
            font-size: 64px;
            margin-bottom: 24px;
        }
        
        .confirmation-content h2 {
            font-size: 32px;
            color: #4A4A4A;
            margin-bottom: 16px;
        }
        
        .confirmation-content p {
            font-size: 18px;
            color: #6B6B6B;
            margin-bottom: 32px;
        }
        
        .order-details {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 32px;
            text-align: left;
        }
        
        .status-timeline {
            display: flex;
            justify-content: space-between;
            margin-bottom: 32px;
            padding: 0 20px;
        }
        
        .status-step {
            padding: 12px 16px;
            border-radius: 12px;
            background: #F0F0F0;
            color: #6B6B6B;
            font-size: 14px;
            font-weight: 600;
        }
        
        .status-step.active {
            background: #AFC8A6;
            color: white;
        }
        
        .new-order-button {
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-out;
        }
        
        .new-order-button:hover {
            transform: scale(0.96);
            background: #9BB896;
        }
        
        /* Navigation Styles */
        .main-nav {
            display: flex;
            justify-content: center;
            gap: 0;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 50px;
            padding: 4px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .nav-button {
            background: transparent;
            border: none;
            padding: 12px 20px;
            border-radius: 46px;
            cursor: pointer;
            font-size: 14px;
            color: #666;
            transition: all 0.3s ease;
            font-weight: 400;
            flex: 1;
        }
        
        .nav-button.active {
            background: #1a1a1a;
            color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .nav-button:hover:not(.active) {
            color: #1a1a1a;
        }
        

        
        /* Spin Wheel Styles */
        .spin-wheel-container {
            text-align: center;
            padding: 40px 20px;
        }
        
        .wheel-container {
            position: relative;
            display: inline-block;
            margin: 40px 0;
        }
        
        .spin-wheel {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            border: 4px solid #AFC8A6;
            transition: transform 3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 8px 24px rgba(175, 200, 166, 0.3);
            transform-origin: center center;
        }
        
        .spin-wheel.spinning {
            transition: transform 3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .spin-wheel.reset {
            transition: transform 0.5s ease-out;
        }
        
        .wheel-pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 32px;
            z-index: 10;
            color: #AFC8A6;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .spin-button {
            background: linear-gradient(135deg, #AFC8A6 0%, #9BB896 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 20px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-out;
            margin-top: 20px;
        }
        
        .spin-button:hover:not(:disabled) {
            transform: scale(0.96);
            box-shadow: 0 8px 16px rgba(175, 200, 166, 0.4);
        }
        
        .spin-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .spin-result {
            margin-top: 30px;
            padding: 20px;
            background: rgba(175, 200, 166, 0.1);
            border-radius: 16px;
            font-size: 18px;
            font-weight: 600;
        }
        
        /* Profile Styles */
        .profile-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(255, 255, 255, 0.92);
            padding: 24px;
            border-radius: 20px;
            margin-bottom: 24px;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #AFC8A6 0%, #9BB896 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
        }
        
        .profile-info h2 {
            margin: 0 0 8px 0;
            color: #4A4A4A;
        }
        
        .profile-info p {
            margin: 4px 0;
            color: #6B6B6B;
        }
        
        .profile-sections {
            display: grid;
            gap: 20px;
        }
        
        .profile-section {
            background: rgba(255, 255, 255, 0.92);
            padding: 20px;
            border-radius: 16px;
        }
        
        .profile-section h3 {
            margin: 0 0 16px 0;
            color: #4A4A4A;
        }
        
        .address-item, .payment-item {
            padding: 12px;
            background: #F7F5F0;
            border-radius: 12px;
            margin-bottom: 8px;
        }
        
        .add-address-btn, .add-payment-btn {
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .preferences label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
        }
        
        .preferences input[type="checkbox"] {
            margin-right: 8px;
        }
        
        /* Favorites Styles */
        .favorites-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }
        
        /* Order History Styles */
        .order-history-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .order-item {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 4px solid #AFC8A6;
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .order-status {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .order-status.delivered {
            background: #A8D5A8;
            color: #2D5A2D;
        }
        
        .order-status.preparing {
            background: #F5D5A8;
            color: #8B4513;
        }
        
        /* Filters Styles */
        .filters-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .filter-section {
            background: rgba(255, 255, 255, 0.92);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
        }
        
        .filter-section h3 {
            margin: 0 0 16px 0;
            color: #4A4A4A;
        }
        
        .filter-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .filter-pill {
            background: #F7F5F0;
            border: 1px solid #D9D9D9;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            color: #4A4A4A;
            transition: all 0.2s ease-out;
        }
        
        .filter-pill.active {
            background: #AFC8A6;
            color: white;
            border-color: #AFC8A6;
        }
        
        .filter-pill:hover {
            transform: scale(0.96);
        }
        
        .apply-filters-btn {
            width: 100%;
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
        }
        
        /* Promo Codes Styles */
        .promo-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .promo-input {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .promo-input input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #D9D9D9;
            border-radius: 12px;
            font-size: 16px;
        }
        
        .promo-input button {
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .promo-card {
            display: flex;
            align-items: center;
            gap: 16px;
            background: rgba(255, 255, 255, 0.92);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 16px;
        }
        
        .promo-icon {
            font-size: 32px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #AFC8A6 0%, #9BB896 100%);
            border-radius: 50%;
        }
        
        .promo-info {
            flex: 1;
        }
        
        .promo-info h3 {
            margin: 0 0 4px 0;
            color: #4A4A4A;
            font-family: monospace;
        }
        
        .promo-info p {
            margin: 0 0 4px 0;
            color: #6B6B6B;
        }
        
        .promo-info small {
            color: #9B9B9B;
        }
        
        .promo-card button {
            background: #AFC8A6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
        }
        
        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }
        
        .rating-stars {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 20px 0;
        }
        
        .star {
            font-size: 32px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .star:hover {
            transform: scale(1.2);
        }
        
        .star.selected {
            filter: brightness(1.2);
        }
        
        #reviewText {
            width: 100%;
            height: 80px;
            padding: 12px;
            border: 1px solid #D9D9D9;
            border-radius: 12px;
            resize: vertical;
            margin-bottom: 20px;
        }
        
        .modal-buttons {
            display: flex;
            gap: 12px;
        }
        
        .modal-buttons button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .modal-buttons button:first-child {
            background: #AFC8A6;
            color: white;
        }
        
        .modal-buttons button:last-child {
            background: #F0F0F0;
            color: #4A4A4A;
        }
        
        /* Enhanced Order Tracking */
        .delivery-tracking {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .driver-info {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .driver-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #AFC8A6 0%, #9BB896 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }
        
        .tracking-map {
            background: #F7F5F0;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 16px;
            color: #4A4A4A;
        }
        
        .rate-order-button {
            background: #F5D5A8;
            color: #8B4513;
            border: none;
            padding: 12px 24px;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-left: 12px;
            transition: all 0.2s ease-out;
        }
        
        .rate-order-button:hover {
            transform: scale(0.96);
            background: #F0C878;
        }

        /* Homepage Styles */
        .homepage-header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, #F7F5F0 0%, #AFC8A6 100%);
            border-radius: 22px;
            margin-bottom: 40px;
        }
        
        .homepage-header h1 {
            font-size: 48px;
            font-weight: 300;
            color: #4A4A4A;
            margin-bottom: 16px;
        }
        
        .homepage-header p {
            font-size: 20px;
            color: #6B6B6B;
            margin-bottom: 40px;
        }
        
        .homepage-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .homepage-btn {
            padding: 16px 32px;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-out;
            min-width: 180px;
        }
        
        .customer-btn {
            background: linear-gradient(135deg, #AFC8A6 0%, #9BB896 100%);
            color: white;
        }
        
        .restaurant-btn {
            background: linear-gradient(135deg, #F5D5A8 0%, #F0C878 100%);
            color: #8B4513;
        }
        
        .admin-btn {
            background: linear-gradient(135deg, #E8A5A5 0%, #D89595 100%);
            color: white;
        }
        
        .homepage-btn:hover {
            transform: scale(0.96);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .homepage-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 40px;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.92);
            padding: 32px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .feature-card h3 {
            font-size: 24px;
            color: #4A4A4A;
            margin-bottom: 16px;
        }
        
        .feature-card p {
            color: #6B6B6B;
            line-height: 1.6;
        }
        
        /* Dashboard Styles */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            padding: 24px;
            background: linear-gradient(135deg, #F7F5F0 0%, #AFC8A6 100%);
            border-radius: 20px;
        }
        
        .dashboard-header h2 {
            margin: 0;
            color: #4A4A4A;
        }
        
        .dashboard-nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }
        
        .dashboard-section {
            background: rgba(255, 255, 255, 0.92);
            padding: 24px;
            border-radius: 20px;
            margin-bottom: 24px;
        }
        
        .analytics-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .analytics-card {
            background: linear-gradient(135deg, #F7F5F0 0%, #AFC8A6 100%);
            padding: 24px;
            border-radius: 16px;
            text-align: center;
        }
        
        .analytics-card h4 {
            margin: 0 0 12px 0;
            color: #4A4A4A;
            font-size: 16px;
        }
        
        .analytics-number {
            font-size: 32px;
            font-weight: 600;
            color: #4A4A4A;
            margin: 0;
        }
        
        .settings-form {
            max-width: 500px;
        }
        
        .settings-form input,
        .settings-form textarea {
            margin-bottom: 16px;
        }
        
        .report-item {
            background: #FDF2F2;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 16px;
            border-left: 4px solid #E8A5A5;
        }
        
        .report-item h4 {
            margin: 0 0 8px 0;
            color: #C53030;
        }
        
        .report-item p {
            margin: 0 0 12px 0;
            color: #6B6B6B;
        }

        @media (max-width: 768px) {
            .restaurants-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 28px;
            }
            
            .homepage-header h1 {
                font-size: 36px;
            }
            
            .homepage-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .container {
                padding: 16px;
            }
            
            .status-timeline {
                flex-direction: column;
                gap: 8px;
            }
        }
        /* Floating Action Button */
        .fab-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }
        
        .fab-main {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: #1a1a1a;
            border: none;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .fab-main:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
        }
        
        .fab-icon {
            color: white;
            font-size: 24px;
            font-weight: 300;
            transition: transform 0.3s ease;
        }
        
        .fab-main.active .fab-icon {
            transform: rotate(45deg);
        }
        
        .fab-menu {
            position: absolute;
            bottom: 70px;
            right: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .fab-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .fab-item {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: white;
            border: 1px solid #e8e8e8;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .fab-item:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main Homepage -->
        <div id="homepageView">
            <div class="homepage-header">
                <h1>üçΩÔ∏è FoodHub</h1>
                <p>Connect restaurants, customers, and communities</p>
                <div class="homepage-buttons">
                    <button class="homepage-btn customer-btn" onclick="enterAsCustomer()">
                        üë§ I'm a Customer
                    </button>
                    <button class="homepage-btn restaurant-btn" onclick="enterAsRestaurant()">
                        üè™ I'm a Restaurant
                    </button>
                    <button class="homepage-btn admin-btn" onclick="showLogin('admin')">
                        ‚öôÔ∏è Admin Login
                    </button>
                </div>
            </div>
            
            <div class="homepage-features">
                <div class="feature-card">
                    <h3>üõí For Customers</h3>
                    <p>Order from premium restaurants, track deliveries, and enjoy exclusive deals</p>
                </div>
                <div class="feature-card">
                    <h3>üè™ For Restaurants</h3>
                    <p>Manage your menu, track orders, and grow your business with our platform</p>
                </div>
                <div class="feature-card">
                    <h3>üìä Analytics & Insights</h3>
                    <p>Real-time data to help restaurants optimize their operations</p>
                </div>
            </div>
        </div>

        <!-- Customer App Header (hidden initially) -->
        <div class="header" id="customerHeader" style="display: none;">
            <h1>üçΩÔ∏è Premium Food Delivery</h1>
            <p>Discover amazing restaurants near you</p>
        </div>
        
        <div class="search-bar">
            <input type="text" placeholder="Search restaurants, cuisines..." id="searchInput">
        </div>
        
        <!-- Minimal Navigation -->
        <div class="main-nav">
            <button class="nav-button active" onclick="showHome()">Home</button>
            <button class="nav-button" onclick="showFavorites()">Favorites</button>
            <button class="nav-button" onclick="showOrderHistory()">Orders</button>
            <button class="nav-button" onclick="showProfile()">Profile</button>
        </div>
        
        <div id="listView" class="restaurants-grid">
            <!-- Restaurants will be populated by JavaScript -->
        </div>
        
        <!-- Floating Action Menu -->
        <div class="fab-container">
            <button class="fab-main" onclick="toggleFabMenu()">
                <span class="fab-icon">+</span>
            </button>
            <div class="fab-menu" id="fabMenu">
                <button class="fab-item" onclick="showSpinWheel()" title="Random Restaurant">
                    <span>üé≤</span>
                </button>
                <button class="fab-item" onclick="showFilters()" title="Filters">
                    <span>üîç</span>
                </button>
                <button class="fab-item" onclick="showPromoCodes()" title="Promos">
                    <span>üéÅ</span>
                </button>
                <button class="fab-item" onclick="toggleDarkMode()" title="Dark Mode">
                    <span>üåô</span>
                </button>
            </div>
        </div>
        
        <div id="mapView" class="map-view" style="display: none;">
            <div class="map-title">Restaurant Locations</div>
            <div class="map-subtitle">37.7749, -122.4194 (San Francisco)</div>
            <div class="restaurant-markers" id="markers">
                <!-- Markers will be populated by JavaScript -->
            </div>
        </div>

        <!-- Restaurant Menu View -->
        <div id="menuView" style="display: none;">
            <div class="menu-header">
                <button class="back-button" onclick="goBack()">‚Üê Back to Restaurants</button>
                <div id="restaurantInfo"></div>
            </div>
            <div class="menu-items" id="menuItems"></div>
            <div class="cart-summary" id="cartSummary" style="display: none;">
                <div class="cart-items" id="cartItems"></div>
                <button class="checkout-button" onclick="showCheckout()">Proceed to Checkout</button>
            </div>
        </div>

        <!-- Checkout View -->
        <div id="checkoutView" style="display: none;">
            <div class="checkout-header">
                <button class="back-button" onclick="goToMenu()">‚Üê Back to Menu</button>
                <h2>Checkout</h2>
            </div>
            <div class="checkout-content">
                <div class="order-summary" id="orderSummary"></div>
                <div class="delivery-info">
                    <h3>Delivery Address</h3>
                    <input type="text" placeholder="Street Address" class="address-input">
                    <input type="text" placeholder="City, State, ZIP" class="address-input">
                </div>
                <div class="payment-info">
                    <h3>Payment Method</h3>
                    <select class="payment-select">
                        <option>üí≥ Credit Card ending in 1234</option>
                        <option>üí≥ Credit Card ending in 5678</option>
                        <option>üì± Apple Pay</option>
                    </select>
                </div>
                <button class="place-order-button" onclick="placeOrder()">Place Order - $<span id="totalAmount">0.00</span></button>
            </div>
        </div>

        <!-- Order Confirmation View -->
        <div id="confirmationView" style="display: none;">
            <div class="confirmation-content">
                <div class="success-icon">‚úÖ</div>
                <h2>Order Confirmed!</h2>
                <p>Your order has been placed successfully</p>
                <div class="order-details" id="orderDetails"></div>
                <div class="order-tracking">
                    <div class="status-timeline">
                        <div class="status-step active">üìã Confirmed</div>
                        <div class="status-step">üë®‚Äçüç≥ Preparing</div>
                        <div class="status-step">üöó On the Way</div>
                        <div class="status-step">üè† Delivered</div>
                    </div>
                </div>
                <div class="delivery-tracking">
                    <h3>üöö Live Tracking</h3>
                    <div class="driver-info">
                        <div class="driver-avatar">üë®‚Äçüöó</div>
                        <div>
                            <p><strong>Mike Johnson</strong> - Your Driver</p>
                            <p>üì± (555) 123-4567</p>
                        </div>
                    </div>
                    <div class="tracking-map">üó∫Ô∏è Driver is 5 minutes away</div>
                </div>
                <button class="new-order-button" onclick="startNewOrder()">Order Again</button>
                <button class="rate-order-button" onclick="showRating()">‚≠ê Rate Order</button>
            </div>
        </div>

        <!-- Spin Wheel View -->
        <div id="spinWheelView" style="display: none;">
            <div class="spin-wheel-container">
                <button class="back-button" onclick="showHome()">‚Üê Back to Home</button>
                <h2>üé≤ Restaurant Roulette</h2>
                <p>Can't decide? Let us pick for you!</p>
                <div class="wheel-container">
                    <svg class="spin-wheel" id="spinWheel" width="300" height="300" viewBox="0 0 300 300">
                        <defs>
                            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#AFC8A6;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#9BB896;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#F7F5F0;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#AFC8A6;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        
                        <!-- Wheel sections -->
                        <path d="M 150,150 L 150,0 A 150,150 0 0,1 256.066,43.934 Z" fill="url(#grad1)" stroke="#fff" stroke-width="2"/>
                        <path d="M 150,150 L 256.066,43.934 A 150,150 0 0,1 300,150 Z" fill="url(#grad2)" stroke="#fff" stroke-width="2"/>
                        <path d="M 150,150 L 300,150 A 150,150 0 0,1 256.066,256.066 Z" fill="url(#grad1)" stroke="#fff" stroke-width="2"/>
                        <path d="M 150,150 L 256.066,256.066 A 150,150 0 0,1 150,300 Z" fill="url(#grad2)" stroke="#fff" stroke-width="2"/>
                        <path d="M 150,150 L 150,300 A 150,150 0 0,1 43.934,256.066 Z" fill="url(#grad1)" stroke="#fff" stroke-width="2"/>
                        <path d="M 150,150 L 43.934,256.066 A 150,150 0 0,1 0,150 Z" fill="url(#grad2)" stroke="#fff" stroke-width="2"/>
                        <path d="M 150,150 L 0,150 A 150,150 0 0,1 43.934,43.934 Z" fill="url(#grad1)" stroke="#fff" stroke-width="2"/>
                        <path d="M 150,150 L 43.934,43.934 A 150,150 0 0,1 150,0 Z" fill="url(#grad2)" stroke="#fff" stroke-width="2"/>
                        
                        <!-- Restaurant names -->
                        <text x="150" y="35" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Garden</text>
                        <text x="150" y="48" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Bistro</text>
                        
                        <text x="235" y="75" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Sage &</text>
                        <text x="235" y="88" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Thyme</text>
                        
                        <text x="270" y="155" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Harvest</text>
                        <text x="270" y="168" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Moon</text>
                        
                        <text x="235" y="230" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Olive</text>
                        <text x="235" y="243" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Branch</text>
                        
                        <text x="150" y="265" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Golden</text>
                        <text x="150" y="278" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Spoon</text>
                        
                        <text x="65" y="230" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Fresh &</text>
                        <text x="65" y="243" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Co</text>
                        
                        <text x="30" y="155" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Green</text>
                        <text x="30" y="168" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Table</text>
                        
                        <text x="65" y="75" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Artisan</text>
                        <text x="65" y="88" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Kitchen</text>
                        
                        <!-- Center circle -->
                        <circle cx="150" cy="150" r="20" fill="#AFC8A6" stroke="#fff" stroke-width="3"/>
                    </svg>
                    <div class="wheel-pointer">üîª</div>
                </div>
                <button class="spin-button" onclick="spinWheel()">üéØ SPIN!</button>
                <button class="spin-button" onclick="resetWheel()" style="background: #E8A5A5; margin-top: 12px;">üîÑ Reset Wheel</button>
                <div id="spinResult" class="spin-result"></div>
            </div>
        </div>

        <!-- Profile View -->
        <div id="profileView" style="display: none;">
            <div class="profile-container">
                <button class="back-button" onclick="showHome()">‚Üê Back to Home</button>
                <div class="profile-header">
                    <div class="profile-avatar">üë§</div>
                    <div class="profile-info">
                        <h2>John Doe</h2>
                        <p>üìß john.doe@email.com</p>
                        <p>üì± (555) 987-6543</p>
                    </div>
                </div>
                
                <div class="profile-sections">
                    <div class="profile-section">
                        <h3>üìç Saved Addresses</h3>
                        <div class="address-list">
                            <div class="address-item">üè† Home: 123 Main St, San Francisco, CA</div>
                            <div class="address-item">üè¢ Work: 456 Market St, San Francisco, CA</div>
                            <button class="add-address-btn">+ Add New Address</button>
                        </div>
                    </div>
                    
                    <div class="profile-section">
                        <h3>üí≥ Payment Methods</h3>
                        <div class="payment-list">
                            <div class="payment-item">üí≥ **** **** **** 1234 (Visa)</div>
                            <div class="payment-item">üí≥ **** **** **** 5678 (Mastercard)</div>
                            <div class="payment-item">üì± Apple Pay</div>
                            <button class="add-payment-btn">+ Add Payment Method</button>
                        </div>
                    </div>
                    
                    <div class="profile-section">
                        <h3>üçΩÔ∏è Dietary Preferences</h3>
                        <div class="preferences">
                            <label><input type="checkbox" checked> üå± Vegetarian Options</label>
                            <label><input type="checkbox"> üö´ Gluten-Free</label>
                            <label><input type="checkbox"> ü•õ Dairy-Free</label>
                            <label><input type="checkbox"> üå∂Ô∏è Spicy Food</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Favorites View -->
        <div id="favoritesView" style="display: none;">
            <div class="favorites-container">
                <button class="back-button" onclick="showHome()">‚Üê Back to Home</button>
                <h2>‚ù§Ô∏è Your Favorites</h2>
                <div class="favorites-grid" id="favoritesGrid">
                    <!-- Favorites will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Order History View -->
        <div id="orderHistoryView" style="display: none;">
            <div class="order-history-container">
                <button class="back-button" onclick="showHome()">‚Üê Back to Home</button>
                <h2>üìã Order History</h2>
                <div class="order-history-list" id="orderHistoryList">
                    <!-- Order history will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Filters View -->
        <div id="filtersView" style="display: none;">
            <div class="filters-container">
                <button class="back-button" onclick="showHome()">‚Üê Back to Home</button>
                <h2>üîç Filter Restaurants</h2>
                
                <div class="filter-section">
                    <h3>üçΩÔ∏è Cuisine Type</h3>
                    <div class="filter-pills">
                        <button class="filter-pill active" onclick="filterByCuisine('all')">All</button>
                        <button class="filter-pill" onclick="filterByCuisine('Mediterranean')">üåø Mediterranean</button>
                        <button class="filter-pill" onclick="filterByCuisine('Italian')">üçù Italian</button>
                        <button class="filter-pill" onclick="filterByCuisine('American')">üçî American</button>
                        <button class="filter-pill" onclick="filterByCuisine('Asian Fusion')">ü•Ñ Asian</button>
                        <button class="filter-pill" onclick="filterByCuisine('Healthy')">ü•ó Healthy</button>
                        <button class="filter-pill" onclick="filterByCuisine('Greek')">ü´í Greek</button>
                        <button class="filter-pill" onclick="filterByCuisine('Vegetarian')">üå± Vegetarian</button>
                        <button class="filter-pill" onclick="filterByCuisine('French')">üë®‚Äçüç≥ French</button>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h3>üí∞ Price Range</h3>
                    <div class="filter-pills">
                        <button class="filter-pill active" onclick="filterByPrice('all')">All Prices</button>
                        <button class="filter-pill" onclick="filterByPrice('budget')">üí∞ Budget ($10-15)</button>
                        <button class="filter-pill" onclick="filterByPrice('moderate')">üí≥ Moderate ($15-25)</button>
                        <button class="filter-pill" onclick="filterByPrice('premium')">üíé Premium ($25+)</button>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h3>‚≠ê Rating</h3>
                    <div class="filter-pills">
                        <button class="filter-pill" onclick="filterByRating('all')">All Ratings</button>
                        <button class="filter-pill" onclick="filterByRating('4.5')">4.5+ ‚≠ê</button>
                        <button class="filter-pill" onclick="filterByRating('4.0')">4.0+ ‚≠ê</button>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h3>üöö Delivery</h3>
                    <div class="filter-pills">
                        <button class="filter-pill" onclick="filterByDelivery('all')">All</button>
                        <button class="filter-pill" onclick="filterByDelivery('free')">üÜì Free Delivery</button>
                        <button class="filter-pill" onclick="filterByDelivery('fast')">‚ö° Fast (< 30 min)</button>
                    </div>
                </div>
                
                <button class="apply-filters-btn" onclick="applyFilters()">Apply Filters</button>
                <button class="apply-filters-btn" onclick="clearFilters()" style="background: #E8A5A5; margin-top: 12px;">Clear All Filters</button>
            </div>
        </div>

        <!-- Promo Codes View -->
        <div id="promoCodesView" style="display: none;">
            <div class="promo-container">
                <button class="back-button" onclick="showHome()">‚Üê Back to Home</button>
                <h2>üéÅ Promo Codes & Deals</h2>
                
                <div class="promo-input">
                    <input type="text" placeholder="Enter promo code" id="promoInput">
                    <button onclick="applyPromoCode()">Apply</button>
                </div>
                
                <div class="available-promos">
                    <div class="promo-card">
                        <div class="promo-icon">üçï</div>
                        <div class="promo-info">
                            <h3>PIZZA20</h3>
                            <p>20% off Italian restaurants</p>
                            <small>Valid until Dec 31</small>
                        </div>
                        <button onclick="usePromo('PIZZA20')">Use Code</button>
                    </div>
                    
                    <div class="promo-card">
                        <div class="promo-icon">üöö</div>
                        <div class="promo-info">
                            <h3>FREEDEL</h3>
                            <p>Free delivery on orders $25+</p>
                            <small>Valid this week</small>
                        </div>
                        <button onclick="usePromo('FREEDEL')">Use Code</button>
                    </div>
                    
                    <div class="promo-card">
                        <div class="promo-icon">üéâ</div>
                        <div class="promo-info">
                            <h3>NEWUSER</h3>
                            <p>$10 off your first order</p>
                            <small>New customers only</small>
                        </div>
                        <button onclick="usePromo('NEWUSER')">Use Code</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rating Modal -->
        <div id="ratingModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>‚≠ê Rate Your Order</h3>
                <div class="rating-stars">
                    <span class="star" onclick="setRating(1)">‚≠ê</span>
                    <span class="star" onclick="setRating(2)">‚≠ê</span>
                    <span class="star" onclick="setRating(3)">‚≠ê</span>
                    <span class="star" onclick="setRating(4)">‚≠ê</span>
                    <span class="star" onclick="setRating(5)">‚≠ê</span>
                </div>
                <textarea placeholder="Leave a review (optional)..." id="reviewText"></textarea>
                <div class="modal-buttons">
                    <button onclick="submitRating()">Submit Rating</button>
                    <button onclick="closeRating()">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Login Modal -->
        <div id="loginModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3 id="loginTitle">üîê Login</h3>
                <input type="email" id="loginEmail" placeholder="Email" class="address-input">
                <input type="password" id="loginPassword" placeholder="Password" class="address-input">
                <div class="modal-buttons">
                    <button onclick="handleLogin()">Login</button>
                    <button onclick="closeLogin()">Cancel</button>
                </div>
                <p style="margin-top: 16px; text-align: center; color: #6B6B6B;">
                    Don't have an account? <a href="#" onclick="showSignup()" style="color: #AFC8A6;">Sign up</a>
                </p>
            </div>
        </div>

        <!-- Signup Modal -->
        <div id="signupModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>üìù Create Account</h3>
                <input type="text" id="signupName" placeholder="Full Name" class="address-input">
                <input type="email" id="signupEmail" placeholder="Email" class="address-input">
                <input type="password" id="signupPassword" placeholder="Password" class="address-input">
                <select id="userRole" class="payment-select">
                    <option value="customer">üë§ Customer</option>
                    <option value="restaurant">üè™ Restaurant Owner</option>
                </select>
                <div class="modal-buttons">
                    <button onclick="handleSignup()">Create Account</button>
                    <button onclick="closeSignup()">Cancel</button>
                </div>
                <p style="margin-top: 16px; text-align: center; color: #6B6B6B;">
                    Already have an account? <a href="#" onclick="showLogin()" style="color: #AFC8A6;">Login</a>
                </p>
            </div>
        </div>

        <!-- Restaurant Dashboard -->
        <div id="restaurantDashboard" style="display: none;">
            <div class="dashboard-header">
                <h2>üè™ Restaurant Dashboard</h2>
                <button class="back-button" onclick="logout()">‚Üê Logout</button>
            </div>
            
            <div class="dashboard-nav">
                <button class="nav-button active" onclick="showRestaurantSection('orders')">üìã Orders</button>
                <button class="nav-button" onclick="showRestaurantSection('menu')">üçΩÔ∏è Menu</button>
                <button class="nav-button" onclick="showRestaurantSection('analytics')">üìä Analytics</button>
                <button class="nav-button" onclick="showRestaurantSection('settings')">‚öôÔ∏è Settings</button>
            </div>

            <div id="restaurantOrders" class="dashboard-section">
                <h3>üìã Incoming Orders</h3>
                <div id="restaurantOrdersList"></div>
            </div>

            <div id="restaurantMenu" class="dashboard-section" style="display: none;">
                <h3>üçΩÔ∏è Menu Management</h3>
                <button class="add-button" onclick="addMenuItem()">+ Add New Item</button>
                <div id="restaurantMenuList"></div>
            </div>

            <div id="restaurantAnalytics" class="dashboard-section" style="display: none;">
                <h3>üìä Analytics</h3>
                <div class="analytics-cards">
                    <div class="analytics-card">
                        <h4>Today's Revenue</h4>
                        <p class="analytics-number">$1,247.50</p>
                    </div>
                    <div class="analytics-card">
                        <h4>Orders Today</h4>
                        <p class="analytics-number">23</p>
                    </div>
                    <div class="analytics-card">
                        <h4>Average Rating</h4>
                        <p class="analytics-number">4.8 ‚≠ê</p>
                    </div>
                </div>
            </div>

            <div id="restaurantSettings" class="dashboard-section" style="display: none;">
                <h3>‚öôÔ∏è Restaurant Settings</h3>
                <div class="settings-form">
                    <input type="text" placeholder="Restaurant Name" class="address-input" value="The Garden Bistro">
                    <textarea placeholder="Description" class="address-input" style="height: 80px;">Fresh Mediterranean cuisine with locally sourced ingredients</textarea>
                    <input type="text" placeholder="Bank Account (IBAN)" class="address-input" value="GB29 NWBK 6016 1331 9268 19">
                    <button class="checkout-button">Save Changes</button>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" style="display: none;">
            <div class="dashboard-header">
                <h2>‚öôÔ∏è Admin Dashboard</h2>
                <button class="back-button" onclick="logout()">‚Üê Logout</button>
            </div>
            
            <div class="dashboard-nav">
                <button class="nav-button active" onclick="showAdminSection('overview')">üìä Overview</button>
                <button class="nav-button" onclick="showAdminSection('restaurants')">üè™ Restaurants</button>
                <button class="nav-button" onclick="showAdminSection('users')">üë• Users</button>
                <button class="nav-button" onclick="showAdminSection('reports')">üìã Reports</button>
            </div>

            <div id="adminOverview" class="dashboard-section">
                <h3>üìä Platform Overview</h3>
                <div class="analytics-cards">
                    <div class="analytics-card">
                        <h4>Total Restaurants</h4>
                        <p class="analytics-number">8</p>
                    </div>
                    <div class="analytics-card">
                        <h4>Active Users</h4>
                        <p class="analytics-number">1,247</p>
                    </div>
                    <div class="analytics-card">
                        <h4>Orders Today</h4>
                        <p class="analytics-number">156</p>
                    </div>
                </div>
            </div>

            <div id="adminRestaurants" class="dashboard-section" style="display: none;">
                <h3>üè™ Restaurant Management</h3>
                <div id="adminRestaurantsList"></div>
            </div>

            <div id="adminUsers" class="dashboard-section" style="display: none;">
                <h3>üë• User Management</h3>
                <div id="adminUsersList"></div>
            </div>

            <div id="adminReports" class="dashboard-section" style="display: none;">
                <h3>üìã Reports & Issues</h3>
                <div class="report-item">
                    <h4>üö® Payment Issue - Order #12345</h4>
                    <p>Customer reports payment not processed correctly</p>
                    <button class="add-button">Resolve</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const restaurants = [
            {
                id: 1,
                name: "The Garden Bistro",
                cuisine: "Mediterranean",
                rating: 4.8,
                deliveryTime: "25-35 min",
                deliveryFee: "Free",
                emoji: "üåø"
            },
            {
                id: 2,
                name: "Sage & Thyme",
                cuisine: "Italian",
                rating: 4.6,
                deliveryTime: "30-40 min",
                deliveryFee: "$2.99",
                emoji: "üçù"
            },
            {
                id: 3,
                name: "Harvest Moon",
                cuisine: "American",
                rating: 4.7,
                deliveryTime: "20-30 min",
                deliveryFee: "Free",
                emoji: "üåô"
            },
            {
                id: 4,
                name: "Olive Branch",
                cuisine: "Greek",
                rating: 4.5,
                deliveryTime: "35-45 min",
                deliveryFee: "$1.99",
                emoji: "ü´í"
            },
            {
                id: 5,
                name: "Golden Spoon",
                cuisine: "Asian Fusion",
                rating: 4.9,
                deliveryTime: "25-35 min",
                deliveryFee: "Free",
                emoji: "ü•Ñ"
            },
            {
                id: 6,
                name: "Fresh & Co",
                cuisine: "Healthy",
                rating: 4.4,
                deliveryTime: "20-30 min",
                deliveryFee: "$2.49",
                emoji: "ü•ó"
            },
            {
                id: 7,
                name: "The Green Table",
                cuisine: "Vegetarian",
                rating: 4.6,
                deliveryTime: "30-40 min",
                deliveryFee: "Free",
                emoji: "üå±"
            },
            {
                id: 8,
                name: "Artisan Kitchen",
                cuisine: "French",
                rating: 4.8,
                deliveryTime: "40-50 min",
                deliveryFee: "$3.99",
                emoji: "üë®‚Äçüç≥"
            }
        ];

        function renderRestaurants(restaurantList = restaurants) {
            const container = document.getElementById('listView');
            container.innerHTML = restaurantList.map(restaurant => `
                <div class="restaurant-card" onclick="selectRestaurant('${restaurant.name}')">
                    <div class="restaurant-image">${restaurant.emoji}</div>
                    <div class="restaurant-info">
                        <div class="restaurant-name">${restaurant.name}</div>
                        <div class="restaurant-cuisine">${restaurant.cuisine}</div>
                        <div class="restaurant-details">
                            <div class="rating">‚≠ê ${restaurant.rating}</div>
                            <div class="delivery-time">${restaurant.deliveryTime}</div>
                        </div>
                        <div class="delivery-fee">${restaurant.deliveryFee}</div>
                    </div>
                </div>
            `).join('');
        }

        function renderMarkers(restaurantList = restaurants) {
            const container = document.getElementById('markers');
            container.innerHTML = restaurantList.map(restaurant => `
                <div class="marker" onclick="selectRestaurant('${restaurant.name}')">
                    <div class="marker-name">${restaurant.name}</div>
                    <div class="marker-rating">‚≠ê ${restaurant.rating}</div>
                </div>
            `).join('');
        }

        function showListView() {
            document.getElementById('listView').style.display = 'grid';
            document.getElementById('mapView').style.display = 'none';
            document.querySelectorAll('.toggle-button')[0].classList.add('active');
            document.querySelectorAll('.toggle-button')[1].classList.remove('active');
        }

        function showMapView() {
            document.getElementById('listView').style.display = 'none';
            document.getElementById('mapView').style.display = 'block';
            document.querySelectorAll('.toggle-button')[0].classList.remove('active');
            document.querySelectorAll('.toggle-button')[1].classList.add('active');
        }

        let currentRestaurant = null;
        let cart = [];
        let currentView = 'restaurants';
        let favorites = [1, 3, 5]; // Restaurant IDs
        let orderHistory = [];
        let currentFilters = { cuisine: 'all', price: 'all', rating: 'all', delivery: 'all' };
        let isDarkMode = false;
        let currentRating = 0;

        function selectRestaurant(name) {
            currentRestaurant = restaurants.find(r => r.name === name);
            currentView = 'menu';
            showRestaurantMenu();
        }

        function searchRestaurants() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = restaurants.filter(r => 
                r.name.toLowerCase().includes(query) || 
                r.cuisine.toLowerCase().includes(query)
            );
            renderRestaurants(filtered);
            renderMarkers(filtered);
        }

        const menuItems = {
            1: [ // The Garden Bistro - Mediterranean
                { id: 1, name: "Mediterranean Bowl", description: "Fresh quinoa, grilled vegetables, feta cheese", price: 16.99, emoji: "ü•ó" },
                { id: 2, name: "Grilled Salmon", description: "Atlantic salmon with lemon herbs", price: 24.99, emoji: "üêü" },
                { id: 3, name: "Lamb Kebabs", description: "Tender lamb with tzatziki sauce", price: 22.99, emoji: "üç¢" }
            ],
            2: [ // Sage & Thyme - Italian
                { id: 4, name: "Truffle Pasta", description: "Handmade pasta with truffle cream sauce", price: 19.99, emoji: "üçù" },
                { id: 5, name: "Margherita Pizza", description: "Fresh mozzarella, basil, tomato sauce", price: 17.99, emoji: "üçï" },
                { id: 6, name: "Tiramisu", description: "Classic Italian dessert", price: 8.99, emoji: "üç∞" }
            ],
            3: [ // Harvest Moon - American
                { id: 7, name: "BBQ Burger", description: "Angus beef with bacon and BBQ sauce", price: 15.99, emoji: "üçî" },
                { id: 8, name: "Buffalo Wings", description: "Spicy wings with blue cheese dip", price: 12.99, emoji: "üçó" },
                { id: 9, name: "Apple Pie", description: "Homemade with vanilla ice cream", price: 7.99, emoji: "ü•ß" }
            ],
            4: [ // Olive Branch - Greek
                { id: 10, name: "Greek Salad", description: "Tomatoes, olives, feta, olive oil", price: 14.99, emoji: "ü•ô" },
                { id: 11, name: "Moussaka", description: "Layered eggplant with meat sauce", price: 21.99, emoji: "üçÜ" },
                { id: 12, name: "Baklava", description: "Honey-soaked phyllo pastry", price: 6.99, emoji: "üçØ" }
            ],
            5: [ // Golden Spoon - Asian Fusion
                { id: 13, name: "Pad Thai", description: "Stir-fried noodles with shrimp", price: 18.99, emoji: "üçú" },
                { id: 14, name: "Sushi Platter", description: "Assorted fresh sushi rolls", price: 26.99, emoji: "üç£" },
                { id: 15, name: "Mango Sticky Rice", description: "Sweet coconut dessert", price: 7.99, emoji: "ü•≠" }
            ],
            6: [ // Fresh & Co - Healthy
                { id: 16, name: "Acai Bowl", description: "Superfood bowl with berries", price: 12.99, emoji: "üçì" },
                { id: 17, name: "Quinoa Salad", description: "Protein-packed with avocado", price: 15.99, emoji: "ü•ë" },
                { id: 18, name: "Green Smoothie", description: "Kale, spinach, apple, ginger", price: 8.99, emoji: "ü•¨" }
            ],
            7: [ // The Green Table - Vegetarian
                { id: 19, name: "Veggie Burger", description: "Plant-based patty with sweet potato fries", price: 16.99, emoji: "üå±" },
                { id: 20, name: "Buddha Bowl", description: "Roasted vegetables with tahini", price: 17.99, emoji: "ü•ô" },
                { id: 21, name: "Vegan Cheesecake", description: "Cashew-based with berry compote", price: 9.99, emoji: "üç∞" }
            ],
            8: [ // Artisan Kitchen - French
                { id: 22, name: "Coq au Vin", description: "Braised chicken in red wine", price: 28.99, emoji: "üç∑" },
                { id: 23, name: "Ratatouille", description: "Traditional Proven√ßal stewed vegetables", price: 19.99, emoji: "üçÖ" },
                { id: 24, name: "Cr√®me Br√ªl√©e", description: "Vanilla custard with caramelized sugar", price: 10.99, emoji: "üî•" }
            ]
        };

        function showRestaurantMenu() {
            hideAllViews();
            document.getElementById('menuView').style.display = 'block';
            
            const restaurantInfo = document.getElementById('restaurantInfo');
            restaurantInfo.innerHTML = `
                <div class="restaurant-header">
                    <h2>${currentRestaurant.emoji} ${currentRestaurant.name}</h2>
                    <p>${currentRestaurant.cuisine} ‚Ä¢ ‚≠ê ${currentRestaurant.rating} ‚Ä¢ ${currentRestaurant.deliveryTime}</p>
                </div>
            `;
            
            const menuItemsContainer = document.getElementById('menuItems');
            const items = menuItems[currentRestaurant.id] || menuItems[1]; // fallback to first restaurant's menu
            
            menuItemsContainer.innerHTML = items.map(item => `
                <div class="menu-item">
                    <div class="menu-item-info">
                        <h4>${item.emoji} ${item.name}</h4>
                        <p>${item.description}</p>
                        <div class="menu-item-price">$${item.price}</div>
                    </div>
                    <button class="add-button" onclick="addToCart(${item.id}, '${item.name}', ${item.price}, '${item.emoji}')">Add +</button>
                </div>
            `).join('');
            
            updateCartDisplay();
        }

        function addToCart(id, name, price, emoji) {
            const existingItem = cart.find(item => item.id === id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ id, name, price, emoji, quantity: 1 });
            }
            updateCartDisplay();
        }

        function updateCartDisplay() {
            const cartSummary = document.getElementById('cartSummary');
            const cartItems = document.getElementById('cartItems');
            
            if (cart.length === 0) {
                cartSummary.style.display = 'none';
                return;
            }
            
            cartSummary.style.display = 'block';
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const deliveryFeeText = currentRestaurant.deliveryFee;
            const deliveryFee = deliveryFeeText === 'Free' ? 0 : parseFloat(deliveryFeeText.replace('$', '')) || 0;
            const total = subtotal + deliveryFee;
            
            cartItems.innerHTML = `
                <h3>Your Order</h3>
                ${cart.map(item => `
                    <div class="cart-item">
                        <span>${item.emoji} ${item.name} x${item.quantity}</span>
                        <span>$${(item.price * item.quantity).toFixed(2)}</span>
                    </div>
                `).join('')}
                <div class="cart-item">
                    <span>Delivery Fee</span>
                    <span>${currentRestaurant.deliveryFee}</span>
                </div>
                <div class="cart-item" style="font-weight: 600; font-size: 18px;">
                    <span>Total</span>
                    <span>$${total.toFixed(2)}</span>
                </div>
            `;
        }

        function showCheckout() {
            hideAllViews();
            document.getElementById('checkoutView').style.display = 'block';
            
            const orderSummary = document.getElementById('orderSummary');
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const deliveryFeeText = currentRestaurant.deliveryFee;
            const deliveryFee = deliveryFeeText === 'Free' ? 0 : parseFloat(deliveryFeeText.replace('$', '')) || 0;
            const tax = subtotal * 0.0875;
            const total = subtotal + deliveryFee + tax;
            
            document.getElementById('totalAmount').textContent = total.toFixed(2);
            
            orderSummary.innerHTML = `
                <h3>Order Summary</h3>
                <p><strong>${currentRestaurant.emoji} ${currentRestaurant.name}</strong></p>
                ${cart.map(item => `
                    <div class="cart-item">
                        <span>${item.emoji} ${item.name} x${item.quantity}</span>
                        <span>$${(item.price * item.quantity).toFixed(2)}</span>
                    </div>
                `).join('')}
                <div class="cart-item">
                    <span>Subtotal</span>
                    <span>$${subtotal.toFixed(2)}</span>
                </div>
                <div class="cart-item">
                    <span>Delivery Fee</span>
                    <span>${currentRestaurant.deliveryFee}</span>
                </div>
                <div class="cart-item">
                    <span>Tax</span>
                    <span>$${tax.toFixed(2)}</span>
                </div>
                <div class="cart-item" style="font-weight: 600; font-size: 18px; border-top: 2px solid #AFC8A6; padding-top: 12px;">
                    <span>Total</span>
                    <span>$${total.toFixed(2)}</span>
                </div>
            `;
        }

        function placeOrder() {
            hideAllViews();
            document.getElementById('confirmationView').style.display = 'block';
            
            const orderDetails = document.getElementById('orderDetails');
            const orderNumber = Math.floor(Math.random() * 10000) + 1000;
            const estimatedTime = Math.floor(Math.random() * 20) + 25;
            
            orderDetails.innerHTML = `
                <h3>Order #${orderNumber}</h3>
                <p><strong>Restaurant:</strong> ${currentRestaurant.emoji} ${currentRestaurant.name}</p>
                <p><strong>Estimated Delivery:</strong> ${estimatedTime}-${estimatedTime + 10} minutes</p>
                <p><strong>Items:</strong></p>
                ${cart.map(item => `
                    <div style="margin-left: 16px;">‚Ä¢ ${item.emoji} ${item.name} x${item.quantity}</div>
                `).join('')}
            `;
            
            // Simulate order progress
            setTimeout(() => {
                const steps = document.querySelectorAll('.status-step');
                steps[1].classList.add('active');
            }, 2000);
            
            setTimeout(() => {
                const steps = document.querySelectorAll('.status-step');
                steps[2].classList.add('active');
            }, 4000);
        }

        function goBack() {
            hideAllViews();
            document.getElementById('listView').style.display = 'grid';
            currentView = 'restaurants';
        }

        function goToMenu() {
            hideAllViews();
            document.getElementById('menuView').style.display = 'block';
            currentView = 'menu';
        }

        function startNewOrder() {
            cart = [];
            currentRestaurant = null;
            hideAllViews();
            document.getElementById('listView').style.display = 'grid';
            currentView = 'restaurants';
            
            // Reset status steps
            document.querySelectorAll('.status-step').forEach((step, index) => {
                if (index === 0) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }

        function hideAllViews() {
            document.getElementById('homepageView').style.display = 'none';
            document.getElementById('listView').style.display = 'none';
            document.getElementById('mapView').style.display = 'none';
            document.getElementById('menuView').style.display = 'none';
            document.getElementById('checkoutView').style.display = 'none';
            document.getElementById('confirmationView').style.display = 'none';
            document.getElementById('spinWheelView').style.display = 'none';
            document.getElementById('profileView').style.display = 'none';
            document.getElementById('favoritesView').style.display = 'none';
            document.getElementById('orderHistoryView').style.display = 'none';
            document.getElementById('filtersView').style.display = 'none';
            document.getElementById('promoCodesView').style.display = 'none';
        }

        // Navigation Functions
        function showHome() {
            if (!currentUser) {
                hideAllViews();
                hideAllDashboards();
                document.getElementById('homepageView').style.display = 'block';
                return;
            }
            
            hideAllViews();
            document.getElementById('listView').style.display = 'grid';
            document.getElementById('mapView').style.display = 'none';
            updateNavButtons('home');
            currentView = 'restaurants';
            
            // Reset view toggle buttons
            document.querySelectorAll('.toggle-button')[0].classList.add('active');
            document.querySelectorAll('.toggle-button')[1].classList.remove('active');
        }

        function showProfile() {
            hideAllViews();
            document.getElementById('profileView').style.display = 'block';
            updateNavButtons('profile');
            currentView = 'profile';
        }

        function showFavorites() {
            hideAllViews();
            document.getElementById('favoritesView').style.display = 'block';
            updateNavButtons('favorites');
            renderFavorites();
            currentView = 'favorites';
        }

        function showOrderHistory() {
            hideAllViews();
            document.getElementById('orderHistoryView').style.display = 'block';
            updateNavButtons('orders');
            renderOrderHistory();
            currentView = 'orders';
        }

        function updateNavButtons(active) {
            document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
            const buttons = document.querySelectorAll('.nav-button');
            const buttonMap = { home: 0, profile: 1, favorites: 2, orders: 3, dark: 4 };
            if (buttons[buttonMap[active]]) {
                buttons[buttonMap[active]].classList.add('active');
            }
        }

        // Dark Mode
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            const btn = document.querySelectorAll('.nav-button')[4];
            btn.textContent = isDarkMode ? '‚òÄÔ∏è Light' : 'üåô Dark';
        }

        // Spin Wheel Functions
        function showSpinWheel() {
            hideAllViews();
            document.getElementById('spinWheelView').style.display = 'block';
            currentView = 'spinWheel';
            
            // Reset wheel position when entering spin wheel view
            resetWheel();
        }
        
        function resetWheel() {
            const wheel = document.getElementById('spinWheel');
            const spinButton = document.querySelector('.spin-button');
            
            // Add reset class for smooth animation back to 0
            wheel.classList.add('reset');
            wheel.classList.remove('spinning');
            
            // Reset rotation tracking
            currentWheelRotation = 0;
            wheel.style.transform = 'rotate(0deg)';
            
            // Reset button text
            spinButton.disabled = false;
            spinButton.textContent = 'üéØ SPIN!';
            
            // Clear previous result
            document.getElementById('spinResult').innerHTML = '';
        }

        let currentWheelRotation = 0; // Track current rotation
        
        function spinWheel() {
            const wheel = document.getElementById('spinWheel');
            const spinButton = document.querySelector('.spin-button');
            
            // Disable spin button during animation
            spinButton.disabled = true;
            spinButton.textContent = 'üéØ SPINNING...';
            
            // Add spinning class for animation
            wheel.classList.add('spinning');
            wheel.classList.remove('reset');
            
            // Generate new rotation (always add at least 4 full rotations for good effect)
            const additionalRotation = Math.floor(Math.random() * 360) + 1440;
            currentWheelRotation += additionalRotation;
            
            // Apply the rotation
            wheel.style.transform = `rotate(${currentWheelRotation}deg)`;
            
            setTimeout(() => {
                // Calculate which section we landed on (8 sections = 45 degrees each)
                const finalAngle = currentWheelRotation % 360;
                const selectedIndex = Math.floor(finalAngle / 45);
                const selectedRestaurant = restaurants[selectedIndex % restaurants.length];
                
                document.getElementById('spinResult').innerHTML = `
                    <h3>üéâ You got: ${selectedRestaurant.emoji} ${selectedRestaurant.name}!</h3>
                    <p>${selectedRestaurant.cuisine} ‚Ä¢ ‚≠ê ${selectedRestaurant.rating}</p>
                    <button onclick="selectRestaurant('${selectedRestaurant.name}')" class="spin-button">
                        üçΩÔ∏è Order from ${selectedRestaurant.name}
                    </button>
                `;
                
                // Remove spinning class
                wheel.classList.remove('spinning');
                
                // Re-enable spin button
                spinButton.disabled = false;
                spinButton.textContent = 'üéØ SPIN AGAIN!';
            }, 3000);
        }

        // Trending Restaurants
        function showTrending() {
            const trendingRestaurants = restaurants.filter(r => r.rating >= 4.7);
            renderRestaurants(trendingRestaurants);
            alert('üî• Showing trending restaurants with 4.7+ ratings!');
        }

        // Filters
        function showFilters() {
            hideAllViews();
            document.getElementById('filtersView').style.display = 'block';
            currentView = 'filters';
        }

        function filterByCuisine(cuisine) {
            currentFilters.cuisine = cuisine;
            updateFilterPills();
        }

        function filterByPrice(price) {
            currentFilters.price = price;
            updateFilterPills();
        }

        function filterByRating(rating) {
            currentFilters.rating = rating;
            updateFilterPills();
        }

        function filterByDelivery(delivery) {
            currentFilters.delivery = delivery;
            updateFilterPills();
        }

        function updateFilterPills() {
            // Remove active class from all pills
            document.querySelectorAll('.filter-pill').forEach(pill => {
                pill.classList.remove('active');
            });
            
            // Add active class to selected pills based on current filters
            document.querySelectorAll('.filter-pill').forEach(pill => {
                const onclick = pill.getAttribute('onclick');
                if (!onclick) return;
                
                // Check cuisine filters
                if (onclick.includes('filterByCuisine')) {
                    const cuisine = onclick.match(/filterByCuisine\('([^']+)'\)/)?.[1];
                    if (cuisine === currentFilters.cuisine) {
                        pill.classList.add('active');
                    }
                }
                
                // Check price filters
                if (onclick.includes('filterByPrice')) {
                    const price = onclick.match(/filterByPrice\('([^']+)'\)/)?.[1];
                    if (price === currentFilters.price) {
                        pill.classList.add('active');
                    }
                }
                
                // Check rating filters
                if (onclick.includes('filterByRating')) {
                    const rating = onclick.match(/filterByRating\('([^']+)'\)/)?.[1];
                    if (rating === currentFilters.rating) {
                        pill.classList.add('active');
                    }
                }
                
                // Check delivery filters
                if (onclick.includes('filterByDelivery')) {
                    const delivery = onclick.match(/filterByDelivery\('([^']+)'\)/)?.[1];
                    if (delivery === currentFilters.delivery) {
                        pill.classList.add('active');
                    }
                }
            });
        }

        function applyFilters() {
            let filtered = restaurants;
            
            if (currentFilters.cuisine !== 'all') {
                filtered = filtered.filter(r => r.cuisine === currentFilters.cuisine);
            }
            
            if (currentFilters.price !== 'all') {
                // Add price ranges to restaurant data for filtering
                filtered = filtered.filter(r => {
                    const avgPrice = getAveragePrice(r.id);
                    if (currentFilters.price === 'budget') return avgPrice <= 15;
                    if (currentFilters.price === 'moderate') return avgPrice > 15 && avgPrice <= 25;
                    if (currentFilters.price === 'premium') return avgPrice > 25;
                    return true;
                });
            }
            
            if (currentFilters.rating !== 'all') {
                const minRating = parseFloat(currentFilters.rating);
                filtered = filtered.filter(r => r.rating >= minRating);
            }
            
            if (currentFilters.delivery === 'free') {
                filtered = filtered.filter(r => r.deliveryFee === 'Free');
            }
            
            if (currentFilters.delivery === 'fast') {
                filtered = filtered.filter(r => parseInt(r.deliveryTime) < 30);
            }
            
            // Store filtered results globally so other functions can use them
            window.currentFilteredRestaurants = filtered;
            
            showHome();
            renderRestaurants(filtered);
            renderMarkers(filtered);
            alert(`üîç Found ${filtered.length} restaurants matching your filters!`);
        }
        
        function getAveragePrice(restaurantId) {
            const items = menuItems[restaurantId] || menuItems[1];
            const total = items.reduce((sum, item) => sum + item.price, 0);
            return total / items.length;
        }

        function clearFilters() {
            currentFilters = { cuisine: 'all', price: 'all', rating: 'all', delivery: 'all' };
            window.currentFilteredRestaurants = restaurants;
            updateFilterPills();
            showHome();
            renderRestaurants(restaurants);
            renderMarkers(restaurants);
            alert('üîÑ All filters cleared!');
        }

        // Promo Codes
        function showPromoCodes() {
            hideAllViews();
            document.getElementById('promoCodesView').style.display = 'block';
            currentView = 'promos';
        }

        function applyPromoCode() {
            const code = document.getElementById('promoInput').value.toUpperCase();
            const validCodes = ['PIZZA20', 'FREEDEL', 'NEWUSER'];
            
            if (validCodes.includes(code)) {
                alert(`üéâ Promo code ${code} applied successfully!`);
                document.getElementById('promoInput').value = '';
            } else {
                alert('‚ùå Invalid promo code. Please try again.');
            }
        }

        function usePromo(code) {
            alert(`üéÅ Promo code ${code} copied to clipboard!`);
            navigator.clipboard.writeText(code);
        }

        // Favorites Functions
        function toggleFavorite(restaurantId) {
            const index = favorites.indexOf(restaurantId);
            if (index > -1) {
                favorites.splice(index, 1);
                alert('üíî Removed from favorites');
            } else {
                favorites.push(restaurantId);
                alert('‚ù§Ô∏è Added to favorites!');
            }
            renderFavorites();
        }

        function renderFavorites() {
            const container = document.getElementById('favoritesGrid');
            const favoriteRestaurants = restaurants.filter(r => favorites.includes(r.id));
            
            if (favoriteRestaurants.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #6B6B6B;">
                        <h3>üíî No favorites yet</h3>
                        <p>Start adding restaurants to your favorites!</p>
                        <button onclick="showHome()" class="checkout-button">Browse Restaurants</button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = favoriteRestaurants.map(restaurant => `
                <div class="restaurant-card" onclick="selectRestaurant('${restaurant.name}')">
                    <div class="restaurant-image">${restaurant.emoji}</div>
                    <div class="restaurant-info">
                        <div class="restaurant-name">${restaurant.name}</div>
                        <div class="restaurant-cuisine">${restaurant.cuisine}</div>
                        <div class="restaurant-details">
                            <div class="rating">‚≠ê ${restaurant.rating}</div>
                            <div class="delivery-time">${restaurant.deliveryTime}</div>
                        </div>
                        <div class="delivery-fee">${restaurant.deliveryFee}</div>
                        <button onclick="event.stopPropagation(); toggleFavorite(${restaurant.id})" 
                                style="background: #E8A5A5; color: white; border: none; padding: 8px 12px; border-radius: 8px; margin-top: 8px;">
                            üíî Remove
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Order History
        function renderOrderHistory() {
            const container = document.getElementById('orderHistoryList');
            
            // Generate some sample order history
            if (orderHistory.length === 0) {
                orderHistory = [
                    {
                        id: '#12345',
                        restaurant: 'The Garden Bistro',
                        date: '2024-12-09',
                        total: '$32.45',
                        status: 'delivered',
                        items: ['Mediterranean Bowl', 'Grilled Salmon']
                    },
                    {
                        id: '#12344',
                        restaurant: 'Sage & Thyme',
                        date: '2024-12-07',
                        total: '$28.99',
                        status: 'delivered',
                        items: ['Truffle Pasta', 'Tiramisu']
                    },
                    {
                        id: '#12343',
                        restaurant: 'Golden Spoon',
                        date: '2024-12-05',
                        total: '$19.99',
                        status: 'preparing',
                        items: ['Asian Fusion Bowl']
                    }
                ];
            }
            
            container.innerHTML = orderHistory.map(order => `
                <div class="order-item">
                    <div class="order-header">
                        <div>
                            <h4>${order.restaurant}</h4>
                            <p>Order ${order.id} ‚Ä¢ ${order.date}</p>
                        </div>
                        <div class="order-status ${order.status}">${order.status.toUpperCase()}</div>
                    </div>
                    <div class="order-details">
                        <p><strong>Items:</strong> ${order.items.join(', ')}</p>
                        <p><strong>Total:</strong> ${order.total}</p>
                    </div>
                    <div style="margin-top: 12px;">
                        <button onclick="reorderItems('${order.restaurant}')" class="add-button">üîÑ Reorder</button>
                        ${order.status === 'delivered' ? 
                            `<button onclick="showRating()" class="add-button" style="margin-left: 8px;">‚≠ê Rate</button>` : 
                            ''
                        }
                    </div>
                </div>
            `).join('');
        }

        function reorderItems(restaurantName) {
            const restaurant = restaurants.find(r => r.name === restaurantName);
            if (restaurant) {
                selectRestaurant(restaurantName);
                alert(`üîÑ Reordering from ${restaurantName}!`);
            }
        }

        // Rating System
        function showRating() {
            document.getElementById('ratingModal').style.display = 'flex';
        }

        function closeRating() {
            document.getElementById('ratingModal').style.display = 'none';
            currentRating = 0;
            updateStarDisplay();
        }

        function setRating(rating) {
            currentRating = rating;
            updateStarDisplay();
        }

        function updateStarDisplay() {
            document.querySelectorAll('.star').forEach((star, index) => {
                star.classList.toggle('selected', index < currentRating);
            });
        }

        function submitRating() {
            if (currentRating === 0) {
                alert('Please select a rating!');
                return;
            }
            
            const review = document.getElementById('reviewText').value;
            alert(`‚≠ê Thank you for your ${currentRating}-star rating!${review ? ' Your review has been submitted.' : ''}`);
            closeRating();
        }

        // Enhanced Restaurant Cards with Favorites
        function renderRestaurants(restaurantList = restaurants) {
            const container = document.getElementById('listView');
            container.innerHTML = restaurantList.map(restaurant => `
                <div class="restaurant-card" onclick="selectRestaurant('${restaurant.name}')">
                    <div class="restaurant-image">${restaurant.emoji}</div>
                    <div class="restaurant-info">
                        <div class="restaurant-name">${restaurant.name}</div>
                        <div class="restaurant-cuisine">${restaurant.cuisine}</div>
                        <div class="restaurant-details">
                            <div class="rating">‚≠ê ${restaurant.rating}</div>
                            <div class="delivery-time">${restaurant.deliveryTime}</div>
                        </div>
                        <div class="delivery-fee">${restaurant.deliveryFee}</div>
                        <button onclick="event.stopPropagation(); toggleFavorite(${restaurant.id})" 
                                style="background: ${favorites.includes(restaurant.id) ? '#E8A5A5' : '#AFC8A6'}; 
                                       color: white; border: none; padding: 8px 12px; border-radius: 8px; margin-top: 8px;">
                            ${favorites.includes(restaurant.id) ? 'üíî' : '‚ù§Ô∏è'} ${favorites.includes(restaurant.id) ? 'Remove' : 'Favorite'}
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Global state
        let currentUser = null;
        let currentUserRole = null;
        
        // Homepage Functions
        function enterAsCustomer() {
            showLogin('customer');
        }
        
        function enterAsRestaurant() {
            showLogin('restaurant');
        }
        
        // Authentication Functions
        function showLogin(role = 'customer') {
            document.getElementById('loginModal').style.display = 'flex';
            document.getElementById('loginTitle').textContent = 
                role === 'admin' ? '‚öôÔ∏è Admin Login' : 
                role === 'restaurant' ? 'üè™ Restaurant Login' : 'üë§ Customer Login';
            window.pendingRole = role;
        }
        
        function closeLogin() {
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('loginEmail').value = '';
            document.getElementById('loginPassword').value = '';
        }
        
        function showSignup() {
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('signupModal').style.display = 'flex';
        }
        
        function closeSignup() {
            document.getElementById('signupModal').style.display = 'none';
            document.getElementById('signupName').value = '';
            document.getElementById('signupEmail').value = '';
            document.getElementById('signupPassword').value = '';
        }
        
        function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            // Simulate login
            currentUser = { email, role: window.pendingRole };
            currentUserRole = window.pendingRole;
            
            closeLogin();
            
            if (currentUserRole === 'admin') {
                showAdminDashboard();
            } else if (currentUserRole === 'restaurant') {
                showRestaurantDashboard();
            } else {
                showCustomerApp();
            }
        }
        
        function handleSignup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const role = document.getElementById('userRole').value;
            
            if (!name || !email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            // Simulate signup
            currentUser = { name, email, role };
            currentUserRole = role;
            
            closeSignup();
            
            if (role === 'restaurant') {
                showRestaurantDashboard();
            } else {
                showCustomerApp();
            }
        }
        
        function logout() {
            currentUser = null;
            currentUserRole = null;
            hideAllViews();
            hideAllDashboards();
            document.getElementById('homepageView').style.display = 'block';
        }
        
        // Dashboard Functions
        function showCustomerApp() {
            hideAllViews();
            hideAllDashboards();
            document.getElementById('homepageView').style.display = 'none';
            document.getElementById('customerHeader').style.display = 'block';
            document.getElementById('listView').style.display = 'grid';
            renderRestaurants();
            renderMarkers();
        }
        
        function showRestaurantDashboard() {
            hideAllViews();
            hideAllDashboards();
            document.getElementById('restaurantDashboard').style.display = 'block';
            loadRestaurantOrders();
            loadRestaurantMenu();
        }
        
        function showAdminDashboard() {
            hideAllViews();
            hideAllDashboards();
            document.getElementById('adminDashboard').style.display = 'block';
            loadAdminData();
        }
        
        function hideAllDashboards() {
            document.getElementById('restaurantDashboard').style.display = 'none';
            document.getElementById('adminDashboard').style.display = 'none';
            document.getElementById('customerHeader').style.display = 'none';
        }
        
        function showRestaurantSection(section) {
            document.querySelectorAll('#restaurantDashboard .dashboard-section').forEach(s => s.style.display = 'none');
            document.getElementById('restaurant' + section.charAt(0).toUpperCase() + section.slice(1)).style.display = 'block';
            
            document.querySelectorAll('#restaurantDashboard .nav-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        function showAdminSection(section) {
            document.querySelectorAll('#adminDashboard .dashboard-section').forEach(s => s.style.display = 'none');
            document.getElementById('admin' + section.charAt(0).toUpperCase() + section.slice(1)).style.display = 'block';
            
            document.querySelectorAll('#adminDashboard .nav-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        // Restaurant Dashboard Functions
        function loadRestaurantOrders() {
            const ordersList = document.getElementById('restaurantOrdersList');
            ordersList.innerHTML = `
                <div class="order-item">
                    <div class="order-header">
                        <div>
                            <h4>Order #12345 - John Doe</h4>
                            <p>2 items ‚Ä¢ $32.45 ‚Ä¢ 5 min ago</p>
                        </div>
                        <div class="order-status preparing">PREPARING</div>
                    </div>
                    <div class="order-details">
                        <p><strong>Items:</strong> Mediterranean Bowl x1, Grilled Salmon x1</p>
                        <p><strong>Address:</strong> 123 Main St, San Francisco</p>
                    </div>
                    <div style="margin-top: 12px;">
                        <button class="add-button">Mark Ready</button>
                        <button class="add-button" style="background: #E8A5A5; margin-left: 8px;">Cancel Order</button>
                    </div>
                </div>
                <div class="order-item">
                    <div class="order-header">
                        <div>
                            <h4>Order #12344 - Sarah Wilson</h4>
                            <p>1 item ‚Ä¢ $16.99 ‚Ä¢ 12 min ago</p>
                        </div>
                        <div class="order-status delivered">READY</div>
                    </div>
                    <div class="order-details">
                        <p><strong>Items:</strong> Mediterranean Bowl x1</p>
                        <p><strong>Address:</strong> 456 Oak Ave, San Francisco</p>
                    </div>
                </div>
            `;
        }
        
        function loadRestaurantMenu() {
            const menuList = document.getElementById('restaurantMenuList');
            const items = menuItems[1]; // Garden Bistro menu
            
            menuList.innerHTML = items.map(item => `
                <div class="menu-item">
                    <div class="menu-item-info">
                        <h4>${item.emoji} ${item.name}</h4>
                        <p>${item.description}</p>
                        <div class="menu-item-price">$${item.price}</div>
                    </div>
                    <div>
                        <button class="add-button" onclick="editMenuItem(${item.id})">Edit</button>
                        <button class="add-button" style="background: #E8A5A5; margin-left: 8px;" onclick="deleteMenuItem(${item.id})">Delete</button>
                    </div>
                </div>
            `).join('');
        }
        
        function addMenuItem() {
            alert('Add new menu item functionality - would open a form modal');
        }
        
        function editMenuItem(id) {
            alert(`Edit menu item ${id} - would open edit form`);
        }
        
        function deleteMenuItem(id) {
            if (confirm('Are you sure you want to delete this menu item?')) {
                alert(`Menu item ${id} deleted`);
                loadRestaurantMenu();
            }
        }
        
        // Admin Functions
        function loadAdminData() {
            const restaurantsList = document.getElementById('adminRestaurantsList');
            restaurantsList.innerHTML = restaurants.map(restaurant => `
                <div class="order-item">
                    <div class="order-header">
                        <div>
                            <h4>${restaurant.emoji} ${restaurant.name}</h4>
                            <p>${restaurant.cuisine} ‚Ä¢ ‚≠ê ${restaurant.rating}</p>
                        </div>
                        <div class="order-status delivered">ACTIVE</div>
                    </div>
                    <div style="margin-top: 12px;">
                        <button class="add-button">View Details</button>
                        <button class="add-button" style="background: #E8A5A5; margin-left: 8px;">Suspend</button>
                    </div>
                </div>
            `).join('');
            
            const usersList = document.getElementById('adminUsersList');
            usersList.innerHTML = `
                <div class="order-item">
                    <div class="order-header">
                        <div>
                            <h4>üë§ John Doe</h4>
                            <p>john.doe@email.com ‚Ä¢ Customer ‚Ä¢ Joined Dec 2024</p>
                        </div>
                        <div class="order-status delivered">ACTIVE</div>
                    </div>
                </div>
                <div class="order-item">
                    <div class="order-header">
                        <div>
                            <h4>üè™ Garden Bistro Owner</h4>
                            <p>owner@gardenbistro.com ‚Ä¢ Restaurant ‚Ä¢ Joined Nov 2024</p>
                        </div>
                        <div class="order-status delivered">ACTIVE</div>
                    </div>
                </div>
            `;
        }

        // Floating Action Button
        let fabMenuOpen = false;
        
        function toggleFabMenu() {
            const fabMain = document.querySelector('.fab-main');
            const fabMenu = document.getElementById('fabMenu');
            
            fabMenuOpen = !fabMenuOpen;
            
            if (fabMenuOpen) {
                fabMain.classList.add('active');
                fabMenu.classList.add('active');
            } else {
                fabMain.classList.remove('active');
                fabMenu.classList.remove('active');
            }
        }
        
        // Close FAB menu when clicking outside
        document.addEventListener('click', function(event) {
            const fabContainer = document.querySelector('.fab-container');
            if (!fabContainer.contains(event.target) && fabMenuOpen) {
                toggleFabMenu();
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Show homepage by default
            document.getElementById('homepageView').style.display = 'block';
            hideAllViews();
            hideAllDashboards();
            
            // Initialize customer app data (hidden)
            renderRestaurants();
            renderMarkers();
            
            document.getElementById('searchInput').addEventListener('input', searchRestaurants);
        });
    </script>
</body>
</html>